<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TapDay 2026</title>

<style>
body{
  margin:0;
  background:linear-gradient(180deg,#0f0f14,#1a1a25);
  font-family:Arial, sans-serif;
  color:white;
  text-align:center;
}

.topbar{
  display:flex;
  justify-content:space-between;
  padding:12px;
  font-size:14px;
  opacity:0.9;
}

.levelbar{
  width:90%;
  margin:10px auto;
  background:#222;
  border-radius:20px;
  overflow:hidden;
  height:14px;
}
.levelprogress{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#00f2ff,#00ff94);
  transition:0.3s;
}

.coin{
  margin:30px auto;
  width:190px;
  height:190px;
  border-radius:50%;
  background:radial-gradient(circle,#ffd700,#ff9800);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:28px;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 40px rgba(255,165,0,0.5);
  transition:0.1s;
}
.coin:active{
  transform:scale(0.95);
}

.stats{
  margin:10px 0;
  font-size:16px;
}

.btn{
  margin:8px auto;
  width:90%;
  padding:12px;
  border-radius:14px;
  background:#26263a;
  cursor:pointer;
  transition:0.2s;
}
.btn:hover{
  background:#33334d;
}

.shopModal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  display:none;
  align-items:center;
  justify-content:center;
}
.shopBox{
  background:#1f1f2e;
  width:90%;
  max-width:360px;
  padding:20px;
  border-radius:20px;
}
.shopItem{
  background:#2b2b44;
  padding:12px;
  border-radius:12px;
  margin:8px 0;
  cursor:pointer;
}
.close{
  margin-top:10px;
  color:#ff4d4d;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="topbar">
  <div>ğŸ† Level <span id="level">1</span></div>
  <div>âš¡ Energy: <span id="energy">100</span></div>
</div>

<div class="levelbar">
  <div class="levelprogress" id="levelprogress"></div>
</div>

<div class="coin" id="tap">TAP</div>

<div class="stats">
  ğŸ’ GD: <span id="balance">0</span><br>
  ğŸª™ Coins: <span id="coins">0</span><br>
  ğŸ“… Streak: <span id="streak">0</span> days
</div>

<div class="btn" id="daily">ğŸ Daily Reward</div>
<div class="btn" id="boostBtn">âš¡ Boost Shop</div>
<div class="btn" id="reset">ğŸ”„ Reset Progress</div>

<div class="shopModal" id="shopModal">
  <div class="shopBox">
    <h3>âš¡ Boost Shop</h3>
    <div class="shopItem" onclick="buyBoost(2,200)">x2 (10 min) â€” 200 coins</div>
    <div class="shopItem" onclick="buyBoost(5,1200)">x5 (8 min) â€” 1200 coins</div>
    <div class="close" onclick="closeShop()">Close</div>
  </div>
</div>

<script>
let balance = parseFloat(localStorage.getItem("gd")) || 0;
let coins = parseInt(localStorage.getItem("coins")) || 0;
let level = parseInt(localStorage.getItem("level")) || 1;
let xp = parseInt(localStorage.getItem("xp")) || 0;
let energy = parseInt(localStorage.getItem("energy")) || 100;
let streak = parseInt(localStorage.getItem("streak")) || 0;
let multiplier = 1;

const DAILY_REWARDS = [50,75,100,150,200,300,500];

function save(){
  localStorage.setItem("gd",balance);
  localStorage.setItem("coins",coins);
  localStorage.setItem("level",level);
  localStorage.setItem("xp",xp);
  localStorage.setItem("energy",energy);
  localStorage.setItem("streak",streak);
}

function updateUI(){
  document.getElementById("balance").textContent = balance.toFixed(0);
  document.getElementById("coins").textContent = coins;
  document.getElementById("level").textContent = level;
  document.getElementById("energy").textContent = energy;
  document.getElementById("streak").textContent = streak;

  let needed = level*100;
  let percent = (xp/needed)*100;
  document.getElementById("levelprogress").style.width = percent+"%";
}

function levelUp(){
  let needed = level*100;
  if(xp>=needed){
    xp-=needed;
    level++;
    coins+=100;
  }
}

tap.onclick=()=>{
  if(energy<=0) return;

  let gain = 1*multiplier;
  balance+=gain;
  xp+=gain;
  energy--;
  coins+=0.5;

  levelUp();
  save();
  updateUI();
};

setInterval(()=>{
  if(energy<100){
    energy++;
    save();
    updateUI();
  }
},3000);

daily.onclick=()=>{
  const today=new Date().toDateString();
  if(localStorage.getItem("lastDaily")==today){
    alert("Already claimed today");
    return;
  }

  let reward=DAILY_REWARDS[streak]||100;
  coins+=reward;
  streak++;
  if(streak>=7) streak=0;

  localStorage.setItem("lastDaily",today);
  save();
  updateUI();
  alert("ğŸ +" + reward + " coins");
};

boostBtn.onclick=()=>{
  shopModal.style.display="flex";
};

function closeShop(){
  shopModal.style.display="none";
}

function buyBoost(x,cost){
  if(coins<cost){
    alert("Not enough coins");
    return;
  }
  coins-=cost;
  multiplier=x;

  let time=x===2?600000:480000;

  setTimeout(()=>{
    multiplier=1;
  },time);

  save();
  updateUI();
  closeShop();
}

reset.onclick=()=>{
  if(confirm("Reset progress?")){
    localStorage.clear();
    location.reload();
  }
};

updateUI();
</script>

</body>
</html>
