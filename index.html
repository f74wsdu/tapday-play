<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>TapDay Play</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:system-ui;text-align:center}
.top{display:flex;justify-content:space-between;padding:10px 14px;font-size:14px}
.green{color:#2aff6a}
.yellow{color:#ffd400}
#balance{font-size:42px;margin-top:20px}
#label{opacity:.7}
#circle{width:260px;height:260px;margin:20px auto;border-radius:50%;background:#222;
display:flex;align-items:center;justify-content:center}
#icon{width:120px}
.btn{margin:8px;padding:14px;border-radius:14px;border:none;font-size:16px;width:80%}
.ad{background:#ffd400;color:#000}
.bonus{background:#1c1c1c;color:#fff}
.play{background:#333;color:#aaa}
.play.active{background:#1fa84f;color:#fff}
#tap{background:#1fa84f;color:#fff;font-size:20px;padding:16px 40px;
border:none;border-radius:18px}
.timer{opacity:.6;font-size:14px;margin-top:6px}
</style>
</head>

<body>

<div class="top">
  <div class="green">–û–Ω–ª–∞–π–Ω: <span id="online"></span></div>
  <div class="yellow">–ë–æ–Ω—É—Å —Å—å–æ–≥–æ–¥–Ω—ñ: <span id="today"></span></div>
</div>

<div id="balance">0</div>
<div id="label">–º–æ–Ω–µ—Ç</div>

<div id="circle">
  <img id="icon" src="assets/money.png">
</div>

<button class="btn ad" onclick="watchAd()">‚ñ∂ –†–µ–∫–ª–∞–º–∞ +50</button>

<button class="btn bonus" id="subBtn" onclick="channelBonus()">
üéÅ –ü—ñ–¥–ø–∏—à–∏—Å—å ‚Äî –æ—Ç—Ä–∏–º–∞–π 500
</button>

<button class="btn play" id="playBtn" onclick="playBonus()" disabled>
‚ñ∂ PLAY –±–æ–Ω—É—Å +1000
</button>
<div class="timer" id="timer"></div>

<button id="tap" onclick="tap()">TAP</button>

<script>
let balance = 0;

// üîó –¢–í–û–Ñ –ü–û–°–ò–õ–ê–ù–ù–Ø –ù–ê –ö–ê–ù–ê–õ
const CHANNEL_LINK = "https://t.me/tapday_clicker";

// –æ–Ω–ª–∞–π–Ω / —Å—å–æ–≥–æ–¥–Ω—ñ
document.getElementById("online").innerText =
4000 + Math.floor(Math.random()*600);
document.getElementById("today").innerText =
2500 + Math.floor(Math.random()*500);

// tap
function tap(){
 balance++;
 update();
 if(navigator.vibrate) navigator.vibrate(20);
}

// —Ä–µ–∫–ª–∞–º–∞
function watchAd(){
 balance += 50;
 update();
}

// –±–æ–Ω—É—Å –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É
function channelBonus(){
 window.open(CHANNEL_LINK,"_blank");
 setTimeout(()=>{
   balance += 500;
   update();
   localStorage.setItem("subBonus","1");
   document.getElementById("subBtn").style.display="none";
   activatePlayBonus();
 },3000);
}

// PLAY –±–æ–Ω—É—Å –ª–æ–≥—ñ–∫–∞
let end = localStorage.getItem("playEnd");

function activatePlayBonus(){
 if(!end){
   end = Date.now() + 30*24*60*60*1000;
   localStorage.setItem("playEnd", end);
 }
 document.getElementById("playBtn").disabled = true;
 tick();
}

// —Ç–∞–π–º–µ—Ä
function tick(){
 if(!end) return;
 let diff = end - Date.now();
 if(diff <= 0){
   document.getElementById("timer").innerText = "–ë–æ–Ω—É—Å –¥–æ—Å—Ç—É–ø–Ω–∏–π";
   document.getElementById("playBtn").disabled = false;
   document.getElementById("playBtn").classList.add("active");
   return;
 }
 let d = Math.floor(diff/86400000);
 let h = Math.floor(diff/3600000)%24;
 let m = Math.floor(diff/60000)%60;
 let s = Math.floor(diff/1000)%60;
 document.getElementById("timer").innerText =
 `${d}–¥ ${h}–≥ ${m}—Ö–≤ ${s}—Å`;
}
setInterval(tick,1000);

// –æ—Ç—Ä–∏–º–∞–Ω–Ω—è +1000
function playBonus(){
 if(Date.now() < end) return;
 balance += 1000;
 update();
 localStorage.removeItem("playEnd");
 document.getElementById("playBtn").disabled = true;
 document.getElementById("timer").innerText = "";
}

// –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É
if(localStorage.getItem("subBonus")){
 document.getElementById("subBtn").style.display="none";
 activatePlayBonus();
}

function update(){
 document.getElementById("balance").innerText = balance;
}
update();
</script>

</body>
</html>
