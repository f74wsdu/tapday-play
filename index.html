<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>City Live â€“ Time & Seasons</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;overflow:hidden;background:#000;font-family:Arial}
#ui{
position:absolute;top:10px;left:10px;z-index:10;
background:rgba(0,0,0,.65);color:#fff;
padding:12px;border-radius:12px;width:260px
}
button{
width:100%;margin-top:6px;padding:8px;
background:#1fa34a;border:none;color:#fff;
border-radius:6px;font-size:14px
}
.small{font-size:12px;opacity:.85}
.premium{background:#f5b400;color:#000}
</style>
</head>
<body>

<div id="ui">
<div id="money">ğŸ’° 0</div>
<div id="income" class="small">+0 / ÑĞµĞº</div>

<button onclick="build('farm')">ğŸŒ¾ Ğ¤ĞµÑ€Ğ¼Ğ°</button>
<button onclick="build('factory')">ğŸ­ Ğ—Ğ°Ğ²Ğ¾Ğ´</button>
<button onclick="build('house')">ğŸ  Ğ‘ÑƒĞ´Ğ¸Ğ½Ğ¾Ğº</button>

<hr>

<div>ğŸ•’ Ğ§Ğ°Ñ: <span id="time">Ğ”ĞµĞ½ÑŒ</span></div>
<div>ğŸ‚ Ğ¡ĞµĞ·Ğ¾Ğ½: <span id="season">Ğ’ĞµÑĞ½Ğ°</span></div>
<div class="small">Ğ—Ğ¼Ñ–Ğ½Ğ° Ñ‡ĞµÑ€ĞµĞ·: <span id="seasonTimer">60</span> c</div>

<button class="premium" onclick="buyPremium()">â­ Premium Pass</button>
<div id="premiumStatus" class="small">ĞĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
let scene=new THREE.Scene();
let camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,.1,500);
camera.position.set(0,35,45);

let renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setClearColor(0x87ceeb);
document.body.appendChild(renderer.domElement);

// ÑĞ²Ñ–Ñ‚Ğ»Ğ¾
let ambient=new THREE.AmbientLight(0xffffff,.6);
scene.add(ambient);

let sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(50,100,20);
scene.add(sun);

// Ğ·ĞµĞ¼Ğ»Ñ
let groundMat=new THREE.MeshLambertMaterial({color:0x2e8b57});
let ground=new THREE.Mesh(
new THREE.PlaneGeometry(200,200),
groundMat
);
ground.rotation.x=-Math.PI/2;
scene.add(ground);

// Ñ€Ğ°Ğ¹Ğ¾Ğ½Ğ¸
const districts={
farm:{x:-25,z:0,color:0x7cfc00},
factory:{x:25,z:0,color:0xaaaaaa},
residential:{x:0,z:25,color:0x87cefa}
};

for(let d in districts){
let zone=new THREE.Mesh(
new THREE.CircleGeometry(15,32),
new THREE.MeshBasicMaterial({
color:districts[d].color,
transparent:true,opacity:0.15
})
);
zone.rotation.x=-Math.PI/2;
zone.position.set(districts[d].x,.05,districts[d].z);
scene.add(zone);
}

// ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–ĞºĞ°
let money=0;
let baseIncome=0;
let premium=false;

const moneyEl=document.getElementById("money");
const incomeEl=document.getElementById("income");

// ÑĞµĞ·Ğ¾Ğ½Ğ¸
const seasons=[
{name:"Ğ’ĞµÑĞ½Ğ°",ground:0x2e8b57,bonus:1},
{name:"Ğ›Ñ–Ñ‚Ğ¾",ground:0x3cb371,bonus:1.2},
{name:"ĞÑÑ–Ğ½ÑŒ",ground:0x8b4513,bonus:0.9},
{name:"Ğ—Ğ¸Ğ¼Ğ°",ground:0xe0f7fa,bonus:0.7}
];
let seasonIndex=0;
let seasonTime=60;

function applySeason(){
const s=seasons[seasonIndex];
document.getElementById("season").innerText=s.name;
ground.material.color.setHex(s.ground);
}

applySeason();

// Ğ´ĞµĞ½ÑŒ / Ğ½Ñ–Ñ‡
let day=true;
function toggleDayNight(){
day=!day;
document.getElementById("time").innerText=day?"Ğ”ĞµĞ½ÑŒ":"ĞÑ–Ñ‡";
ambient.intensity=day?0.6:0.25;
sun.intensity=day?1:0.3;
renderer.setClearColor(day?0x87ceeb:0x0b132b);
}
setInterval(toggleDayNight,20000);

// Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€ ÑĞµĞ·Ğ¾Ğ½Ñƒ
setInterval(()=>{
seasonTime--;
document.getElementById("seasonTimer").innerText=seasonTime;
if(seasonTime<=0){
seasonTime=60;
seasonIndex=(seasonIndex+1)%seasons.length;
applySeason();
}
},1000);

// Ğ´Ğ¾Ñ…Ñ–Ğ´
setInterval(()=>{
let totalIncome=baseIncome*seasons[seasonIndex].bonus;
if(premium) totalIncome*=1.5;
money+=totalIncome;
moneyEl.innerText="ğŸ’° "+Math.floor(money);
incomeEl.innerText="+"+totalIncome.toFixed(1)+" / ÑĞµĞº";
},1000);

// Ğ±ÑƒĞ´Ñ–Ğ²Ğ½Ğ¸Ñ†Ñ‚Ğ²Ğ¾
function build(type){
let geo,mat,zone,inc=0;

if(type==="farm"){
geo=new THREE.BoxGeometry(4,2,4);
mat=new THREE.MeshLambertMaterial({color:0xdeb887});
zone=districts.farm;
inc=1;
}
if(type==="factory"){
geo=new THREE.BoxGeometry(5,4,5);
mat=new THREE.MeshLambertMaterial({color:0x777777});
zone=districts.factory;
inc=3;
}
if(type==="house"){
geo=new THREE.BoxGeometry(3,3,3);
mat=new THREE.MeshLambertMaterial({color:0xffe4b5});
zone=districts.residential;
inc=0.5;
}

let b=new THREE.Mesh(geo,mat);
b.position.set(
zone.x+Math.random()*10-5,
2,
zone.z+Math.random()*10-5
);
scene.add(b);

baseIncome+=inc;
if(premium) money+=1;
}

// premium
function buyPremium(){
if(premium) return;
premium=true;
document.getElementById("premiumStatus").innerText="ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ â­";
}

// ĞºĞ°Ğ¼ĞµÑ€Ğ°
let t=0;
function animate(){
requestAnimationFrame(animate);
t+=0.002;
camera.position.x=Math.sin(t)*50;
camera.position.z=Math.cos(t)*50;
camera.lookAt(0,0,0);
renderer.render(scene,camera);
}
animate();

onresize=()=>{
camera.aspect=innerWidth/innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
};
</script>
</body>
</html>
