<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>City Live â€“ Districts & Quests</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;overflow:hidden;background:#000;font-family:Arial}
#ui{
position:absolute;top:10px;left:10px;z-index:10;
background:rgba(0,0,0,.65);color:#fff;
padding:10px;border-radius:10px;width:240px
}
button{
width:100%;margin-top:6px;padding:8px;
background:#1fa34a;border:none;color:#fff;
border-radius:6px;font-size:14px
}
#quests{
margin-top:10px;font-size:13px
}
.quest-done{color:#7CFC00}
</style>
</head>
<body>

<div id="ui">
<div id="money">ğŸ’° 0</div>

<button onclick="build('farm')">ğŸŒ¾ Ğ¤ĞµÑ€Ğ¼Ğ°</button>
<button onclick="build('factory')">ğŸ­ Ğ—Ğ°Ğ²Ğ¾Ğ´</button>
<button onclick="build('house')">ğŸ  Ğ‘ÑƒĞ´Ğ¸Ğ½Ğ¾Ğº</button>

<div id="quests">
<b>ğŸ¯ ĞšĞ²ĞµÑÑ‚Ğ¸:</b><br>
<div id="q1">â–« ĞŸĞ¾Ğ±ÑƒĞ´ÑƒĞ¹ 2 Ñ„ĞµÑ€Ğ¼Ğ¸</div>
<div id="q2">â–« ĞŸĞ¾Ğ±ÑƒĞ´ÑƒĞ¹ 1 Ğ·Ğ°Ğ²Ğ¾Ğ´</div>
<div id="q3">â–« Ğ—Ğ°Ñ€Ğ¾Ğ±Ğ¸ 20 ğŸ’°</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
let scene=new THREE.Scene();
let camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,.1,500);
camera.position.set(0,35,45);

let renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setClearColor(0x87ceeb);
document.body.appendChild(renderer.domElement);

// ÑĞ²Ñ–Ñ‚Ğ»Ğ¾
scene.add(new THREE.AmbientLight(0x888888));
let sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(50,100,20);
scene.add(sun);

// Ğ·ĞµĞ¼Ğ»Ñ
let ground=new THREE.Mesh(
new THREE.PlaneGeometry(200,200),
new THREE.MeshLambertMaterial({color:0x2e8b57})
);
ground.rotation.x=-Math.PI/2;
scene.add(ground);

// ğŸ—º Ğ ĞĞ™ĞĞĞ˜
const districts={
farm:{x:-25,z:0,color:0x7cfc00},
factory:{x:25,z:0,color:0xaaaaaa},
residential:{x:0,z:25,color:0x87cefa}
};

for(let d in districts){
let zone=new THREE.Mesh(
new THREE.CircleGeometry(15,32),
new THREE.MeshBasicMaterial({color:districts[d].color,transparent:true,opacity:0.15})
);
zone.rotation.x=-Math.PI/2;
zone.position.set(districts[d].x,.05,districts[d].z);
scene.add(zone);
}

// ĞµĞºĞ¾Ğ½Ğ¾Ğ¼Ñ–ĞºĞ°
let money=0,income=0;
let moneyEl=document.getElementById("money");
setInterval(()=>{
money+=income;
moneyEl.innerText="ğŸ’° "+money;
checkQuests();
},1000);

// Ğ»Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ¸
let stats={farm:0,factory:0};

// ğŸ— Ğ±ÑƒĞ´Ñ–Ğ²Ğ½Ğ¸Ñ†Ñ‚Ğ²Ğ¾
function build(type){
let geo,mat,zone;

if(type==="farm"){
geo=new THREE.BoxGeometry(4,2,4);
mat=new THREE.MeshLambertMaterial({color:0xdeb887});
zone=districts.farm;
stats.farm++;
income+=1;
}

if(type==="factory"){
geo=new THREE.BoxGeometry(5,4,5);
mat=new THREE.MeshLambertMaterial({color:0x777777});
zone=districts.factory;
stats.factory++;
income+=3;
}

if(type==="house"){
geo=new THREE.BoxGeometry(3,3,3);
mat=new THREE.MeshLambertMaterial({color:0xffe4b5});
zone=districts.residential;
income+=0.5;
}

let b=new THREE.Mesh(geo,mat);
b.position.set(
zone.x+Math.random()*10-5,
2,
zone.z+Math.random()*10-5
);
scene.add(b);
}

// ğŸ¯ ĞšĞ’Ğ•Ğ¡Ğ¢Ğ˜
let quests={
q1:false,q2:false,q3:false
};

function checkQuests(){
if(!quests.q1 && stats.farm>=2){
quests.q1=true;
document.getElementById("q1").className="quest-done";
money+=10;
}
if(!quests.q2 && stats.factory>=1){
quests.q2=true;
document.getElementById("q2").className="quest-done";
money+=10;
}
if(!quests.q3 && money>=20){
quests.q3=true;
document.getElementById("q3").className="quest-done";
money+=20;
}
}

// Ğ°Ğ½Ñ–Ğ¼Ğ°Ñ†Ñ–Ñ
let t=0;
function animate(){
requestAnimationFrame(animate);
t+=0.002;
camera.position.x=Math.sin(t)*50;
camera.position.z=Math.cos(t)*50;
camera.lookAt(0,0,0);
renderer.render(scene,camera);
}
animate();

onresize=()=>{
camera.aspect=innerWidth/innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
};
</script>
</body>
</html>
