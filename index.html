<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>City Empire 2026</title>
<style>
body {
  margin:0;
  background:#0f172a;
  color:#fff;
  font-family:Arial;
}
#top {
  display:flex;
  justify-content:space-around;
  padding:10px;
  background:#020617;
}
.stat {
  font-weight:bold;
}
canvas {
  display:block;
  margin:auto;
  background:#020617;
}
#panel {
  position:fixed;
  bottom:0;
  width:100%;
  background:#020617;
  display:flex;
  justify-content:space-around;
  padding:10px;
}
button {
  background:#2563eb;
  color:#fff;
  border:none;
  padding:10px;
  border-radius:8px;
}
</style>
</head>
<body>

<div id="top">
  <div class="stat">üí∞ <span id="money">1000</span></div>
  <div class="stat">üèô –ù–∞—Å–µ–ª–µ–Ω–Ω—è: <span id="pop">50</span></div>
  <div class="stat">üíµ/–≥–æ–¥: <span id="income">20</span></div>
</div>

<canvas id="city" width="420" height="520"></canvas>

<div id="panel">
  <button onclick="build('farm')">üåæ –§–µ—Ä–º–∞</button>
  <button onclick="build('factory')">üè≠ –ó–∞–≤–æ–¥</button>
  <button onclick="build('house')">üè† –ë—É–¥–∏–Ω–æ–∫</button>
</div>

<script>
const canvas = document.getElementById('city');
const ctx = canvas.getContext('2d');

let money = 1000;
let income = 20;
let population = 50;

const tiles = [];
const size = 40;

function iso(x,y){
  return {
    x: 210 + (x-y)*size,
    y: 80 + (x+y)*size/2
  }
}

function drawTile(x,y,color){
  const p = iso(x,y);
  ctx.beginPath();
  ctx.moveTo(p.x, p.y);
  ctx.lineTo(p.x+size, p.y+size/2);
  ctx.lineTo(p.x, p.y+size);
  ctx.lineTo(p.x-size, p.y+size/2);
  ctx.closePath();
  ctx.fillStyle = color;
  ctx.fill();
}

function render(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let x=0;x<6;x++){
    for(let y=0;y<6;y++){
      drawTile(x,y,'#1e293b');
    }
  }
  tiles.forEach(t=>{
    drawTile(t.x,t.y,t.color);
  });
}

function build(type){
  const cost = {farm:300,factory:600,house:400}[type];
  if(money<cost) return;
  money-=cost;

  const tile = {
    x: Math.floor(Math.random()*6),
    y: Math.floor(Math.random()*6),
    color: type==='farm'?'#22c55e':type==='factory'?'#64748b':'#38bdf8'
  };

  tiles.push(tile);

  if(type==='farm') income+=10;
  if(type==='factory') income+=25;
  if(type==='house') population+=30;

  update();
  render();
}

function update(){
  document.getElementById('money').innerText = Math.floor(money);
  document.getElementById('income').innerText = income;
  document.getElementById('pop').innerText = population;
}

setInterval(()=>{
  money += income/60;
  update();
},1000);

render();
update();
</script>
</body>
</html>
