<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>City Idle 2026</title>

<style>
body{
 margin:0;
 font-family:system-ui,Arial;
 background:linear-gradient(#0b1022,#050814);
 color:#fff;
}
header{
 height:56px;
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:0 14px;
 background:#0f1738;
 border-bottom:1px solid #1f2b5c;
}
.stat{font-weight:800}
#map{
 display:grid;
 grid-template-columns:repeat(2,1fr);
 gap:12px;
 padding:12px;
}
.card{
 background:linear-gradient(#131e52,#0b1436);
 border-radius:18px;
 padding:14px;
 box-shadow:0 0 30px #000;
}
.card h3{margin:0 0 6px}
.card button{
 width:100%;
 margin-top:8px;
 padding:10px;
 border:none;
 border-radius:12px;
 background:linear-gradient(#ffd76a,#f2a900);
 font-weight:900;
}
.progress{
 height:8px;
 background:#000;
 border-radius:6px;
 overflow:hidden;
 margin-top:6px;
}
.bar{
 height:100%;
 width:0%;
 background:#2cff8f;
 transition:width .2s;
}
footer{
 position:fixed;
 bottom:0;
 left:0;
 right:0;
 height:70px;
 background:#0b1436;
 display:flex;
 justify-content:space-around;
 align-items:center;
 border-top:1px solid #1f2b5c;
}
.big{
 font-size:22px;
 font-weight:900;
}
</style>
</head>

<body>

<header>
 <div class="stat">üíµ <span id="money">100</span></div>
 <div class="stat">‚≠ê –†—ñ–≤–µ–Ω—å <span id="lvl">1</span></div>
</header>

<main id="map"></main>

<footer>
 <div class="big">üèô –ú–Ü–°–¢–û</div>
</footer>

<script>
let money=100,lvl=1,exp=0;
const snd=new AudioContext();

function sound(){
 const o=snd.createOscillator(),g=snd.createGain();
 o.type="sine";o.frequency.value=420;
 g.gain.value=.05;
 o.connect(g);g.connect(snd.destination);
 o.start();o.stop(snd.currentTime+.07);
}

const buildings=[
 {name:"üåæ –§–µ—Ä–º–∞",base:50,profit:10,time:5,level:0},
 {name:"üè≠ –ó–∞–≤–æ–¥",base:200,profit:40,time:8,level:0},
 {name:"üè• –õ—ñ–∫–∞—Ä–Ω—è",base:600,profit:120,time:12,level:0},
 {name:"üöì –ü–æ–ª—ñ—Ü—ñ—è",base:1200,profit:260,time:15,level:0},
];

const map=document.getElementById("map");

function render(){
 map.innerHTML="";
 buildings.forEach((b,i)=>{
  const cost=b.base*(b.level+1);
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`
   <h3>${b.name} (LV ${b.level})</h3>
   <div>–î–æ—Ö—ñ–¥: +${b.profit*(b.level||1)} üíµ</div>
   <div class="progress"><div class="bar" id="bar${i}"></div></div>
   <button onclick="build(${i})">–ö—É–ø–∏—Ç–∏ / –ó–∞–ø—É—Å—Ç–∏—Ç–∏ (${cost})</button>
  `;
  map.appendChild(c);
 });
 updateUI();
}

function build(i){
 const b=buildings[i];
 const cost=b.base*(b.level+1);
 if(money<cost) return;
 money-=cost;
 b.level++;
 sound();
 let t=0;
 const bar=document.getElementById("bar"+i);
 const timer=setInterval(()=>{
  t++;
  bar.style.width=(t/b.time*100)+"%";
  if(t>=b.time){
   clearInterval(timer);
   const gain=b.profit*b.level;
   money+=gain;
   exp+=gain;
   bar.style.width="0%";
   levelUp();
   updateUI();
  }
 },1000);
 updateUI();
}

function levelUp(){
 if(exp>=lvl*500){
  exp=0;lvl++;
  sound();
 }
}

function updateUI(){
 document.getElementById("money").textContent=Math.floor(money);
 document.getElementById("lvl").textContent=lvl;
}

render();
</script>

</body>
</html>
