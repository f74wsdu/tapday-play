<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>City Live ‚Äì People & Cars</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;overflow:hidden;background:#000;font-family:Arial}
#ui{
position:absolute;top:10px;left:10px;z-index:10;
background:rgba(0,0,0,.65);color:#fff;
padding:12px;border-radius:12px;width:260px
}
.small{font-size:12px;opacity:.85}
</style>
</head>
<body>

<div id="ui">
<div>üåç City Live</div>
<div class="small">–õ—é–¥–∏ —Ö–æ–¥—è—Ç—å ‚Ä¢ –ú–∞—à–∏–Ω–∏ —ó–¥—É—Ç—å ‚Ä¢ –ú—ñ—Å—Ç–æ –∂–∏–≤–µ</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
// —Å—Ü–µ–Ω–∞
const scene=new THREE.Scene();
scene.fog=new THREE.Fog(0xaaccff,50,180);

// –∫–∞–º–µ—Ä–∞
const camera=new THREE.PerspectiveCamera(60,innerWidth/innerHeight,0.1,500);
camera.position.set(0,60,80);
camera.lookAt(0,0,0);

// —Ä–µ–Ω–¥–µ—Ä
const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setClearColor(0x87ceeb);
document.body.appendChild(renderer.domElement);

// —Å–≤—ñ—Ç–ª–æ
scene.add(new THREE.AmbientLight(0xffffff,.6));
const sun=new THREE.DirectionalLight(0xffffff,1);
sun.position.set(50,100,30);
scene.add(sun);

// –∑–µ–º–ª—è
const ground=new THREE.Mesh(
new THREE.PlaneGeometry(300,300),
new THREE.MeshLambertMaterial({color:0x3cb371})
);
ground.rotation.x=-Math.PI/2;
scene.add(ground);

// –¥–æ—Ä–æ–≥–∏
const roadMat=new THREE.MeshLambertMaterial({color:0x2f2f2f});
function road(w,h,x,z){
const r=new THREE.Mesh(new THREE.PlaneGeometry(w,h),roadMat);
r.rotation.x=-Math.PI/2;
r.position.set(x,.05,z);
scene.add(r);
}
road(200,8,0,0);
road(8,200,0,0);
road(150,6,0,30);
road(6,150,30,0);

// –±—É–¥—ñ–≤–ª—ñ
function building(x,z,color,h){
const b=new THREE.Mesh(
new THREE.BoxGeometry(6,h,6),
new THREE.MeshLambertMaterial({color})
);
b.position.set(x,h/2,z);
scene.add(b);
}
for(let i=0;i<20;i++){
building(
Math.random()*120-60,
Math.random()*120-60,
0xbebebe,
Math.random()*10+6
);
}

// –õ–Æ–î–ò
const people=[];
const personGeo=new THREE.CylinderGeometry(0.5,0.5,2,8);
const personMat=new THREE.MeshLambertMaterial({color:0xffd700});

for(let i=0;i<40;i++){
const p=new THREE.Mesh(personGeo,personMat);
p.position.set(Math.random()*100-50,1,Math.random()*100-50);
p.userData={
dir:Math.random()*Math.PI*2,
speed:0.05+Math.random()*0.05
};
people.push(p);
scene.add(p);
}

// –ú–ê–®–ò–ù–ò
const cars=[];
const carGeo=new THREE.BoxGeometry(3,1.5,5);
const carMat=new THREE.MeshLambertMaterial({color:0xff3333});

for(let i=0;i<10;i++){
const c=new THREE.Mesh(carGeo,carMat);
c.position.set(-80+i*15,0.8,0);
c.userData={speed:0.3+Math.random()*0.2};
cars.push(c);
scene.add(c);
}

// –∞–Ω—ñ–º–∞—Ü—ñ—è
function animate(){
requestAnimationFrame(animate);

// –ª—é–¥–∏ —Ö–æ–¥—è—Ç—å
people.forEach(p=>{
p.position.x+=Math.cos(p.userData.dir)*p.userData.speed;
p.position.z+=Math.sin(p.userData.dir)*p.userData.speed;
if(Math.random()<0.01) p.userData.dir=Math.random()*Math.PI*2;
});

// –º–∞—à–∏–Ω–∏ —ó–¥—É—Ç—å
cars.forEach(c=>{
c.position.x+=c.userData.speed;
if(c.position.x>100) c.position.x=-100;
});

// –∫–∞–º–µ—Ä–∞ –ª–µ–≥–µ–Ω—å–∫–æ –ø–ª–∏–≤–µ
camera.position.x=Math.sin(Date.now()*0.0002)*90;
camera.position.z=Math.cos(Date.now()*0.0002)*90;
camera.lookAt(0,0,0);

renderer.render(scene,camera);
}
animate();

onresize=()=>{
camera.aspect=innerWidth/innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
};
</script>
</body>
</html>
