<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>TapDay Play</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial;text-align:center}
#top{display:flex;justify-content:space-between;align-items:center;padding:10px}
#online{font-size:12px;color:#00ff7f}
#coin{margin:60px auto 10px;width:180px;height:180px;border-radius:50%;
background:radial-gradient(circle,#ffd700,#ff9800);
display:flex;align-items:center;justify-content:center;
font-size:32px;font-weight:bold;cursor:pointer}
#balance,#coins{font-size:18px;margin-bottom:6px}
.block{margin:8px auto;width:90%;padding:12px;border-radius:12px;background:#333;cursor:pointer}
#withdraw{background:green;width:fit-content;padding:10px 25px}
#leftToWithdraw{margin-top:6px;font-size:14px;color:#ffcc00}
.mult{position:fixed;top:55%;padding:10px 14px;background:#222;border-radius:12px;cursor:pointer}
#x2{left:10px} #x5{right:10px}
.mult.active{background:#ff9800}
#shopModal{position:fixed;inset:0;background:rgba(0,0,0,0.85);
display:none;align-items:center;justify-content:center;z-index:10}
#shopBox{background:#1e1e1e;width:90%;max-width:350px;padding:20px;border-radius:16px}
.shopItem{background:#333;padding:10px;border-radius:10px;margin:8px 0;cursor:pointer}
.closeBtn{margin-top:10px;color:#ff5555;cursor:pointer}
</style>
</head>

<body>

<div id="top">
<button id="adBtn">ğŸ¥ +Coins</button>
<div id="online">
ğŸŸ¢ Online: <span id="onlineCount">3000</span><br>
ğŸ Bonus today: <span id="bonusToday">200</span>
</div>
</div>

<div id="x2" class="mult">x2</div>
<div id="x5" class="mult">x5</div>

<div id="coin">TAP</div>

<div id="balance">ğŸ’° Balance: 0.00 $</div>
<div id="coins">ğŸª™ Coins: 0</div>

<div id="daily" class="block">ğŸ“… Ğ”ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ±Ğ¾Ğ½ÑƒÑ</div>
<div id="subscribe" class="block">ğŸ“¢ Ğ‘Ğ¾Ğ½ÑƒÑ 10$ Ğ·Ğ° Ğ¿Ñ–Ğ´Ğ¿Ğ¸ÑĞºÑƒ</div>
<div id="shop" class="block">ğŸ›’ Coin Shop</div>

<div id="withdraw" class="block">ğŸ’³ Ğ’Ğ¸Ğ²Ñ–Ğ´</div>
<div id="leftToWithdraw"></div>

<div id="share" class="block">ğŸ”— ĞŸĞ¾Ğ´Ñ–Ğ»Ğ¸Ñ‚Ğ¸ÑÑ Ğ³Ñ€Ğ¾Ñ</div>

<div id="shopModal">
<div id="shopBox">
<h3>ğŸ›’ Coin Shop</h3>
<div class="shopItem" onclick="buyBoost(2,50)">âš¡ x2 Tap (10 Ñ…Ğ²) â€” 50 coins</div>
<div class="shopItem" onclick="buyBoost(5,120)">ğŸ”¥ x5 Tap (10 Ñ…Ğ²) â€” 120 coins</div>
<div class="shopItem" onclick="watchAd(30)">ğŸ ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ coins (Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ°)</div>
<div class="closeBtn" onclick="closeShop()">Ğ—Ğ°ĞºÑ€Ğ¸Ñ‚Ğ¸</div>
</div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const CHANNEL_LINK = "https://t.me/tapday_clicker";
const AD_LINK = "Ğ’Ğ¡Ğ¢ĞĞ’_Ğ¢Ğ£Ğ¢_Ğ¡Ğ’ĞĞ®_Ğ Ğ•ĞšĞ›ĞĞœĞĞ£_Ğ¡Ğ¡Ğ˜Ğ›ĞšĞ£";
const WITHDRAW_MIN = 300;
const DAILY_BONUSES = [0.5,0.75,1,1.5,1.75,2,2.5];

let balance = parseFloat(localStorage.balance) || 0;
let coins = parseInt(localStorage.coins) || 0;
let multiplier = 1;
let lastAdTime = 0;

/* ===== UI ===== */
function updateUI(){
balance = parseFloat(balance);
coins = parseInt(coins);

balanceEl.textContent = `ğŸ’° Balance: ${balance.toFixed(2)} $`;
coinsEl.textContent = `ğŸª™ Coins: ${coins}`;

localStorage.balance = balance;
localStorage.coins = coins;

const left = WITHDRAW_MIN - balance;
leftToWithdraw.textContent =
left>0 ? `Ğ”Ğ¾ Ğ²Ğ¸Ğ²Ğ¾Ğ´Ñƒ Ğ·Ğ°Ğ»Ğ¸ÑˆĞ¸Ğ»Ğ¾ÑÑŒ: ${left.toFixed(2)} $`
       : "âœ… Ğ’Ğ¸Ğ²Ñ–Ğ´ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹";
}
updateUI();

/* ===== TAP ===== */
coin.onclick = ()=>{
balance += 0.01 * multiplier;
updateUI();
navigator.vibrate?.(30);
};

/* ===== MULT ===== */
function activateMult(x){
multiplier = x;
setTimeout(()=> multiplier=1,600000);
}
x2.onclick = ()=>activateMult(2);
x5.onclick = ()=>activateMult(5);

/* ===== SHOP ===== */
shop.onclick = ()=>shopModal.style.display="flex";
function closeShop(){shopModal.style.display="none";}

function buyBoost(x,cost){
if(coins<cost){tg.showAlert("âŒ ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ½ÑŒĞ¾ coins");return;}
coins-=cost;
activateMult(x);
updateUI();
tg.showAlert(`âœ… x${x} Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¾`);
}

/* ===== Ğ Ğ•ĞšĞ›ĞĞœĞ ===== */
function watchAd(reward){
let now=Date.now();
if(now-lastAdTime<30000){
tg.showAlert("â³ Ğ—Ğ°Ñ‡ĞµĞºĞ°Ğ¹ 30 ÑĞµĞº");
return;
}
lastAdTime=now;

window.open(AD_LINK,"_blank");

setTimeout(()=>{
coins+=reward;
updateUI();
tg.showAlert(`ğŸ¥ +${reward} coins`);
},5000);
}
adBtn.onclick=()=>watchAd(20);

/* ===== DAILY ===== */
daily.onclick=()=>{
const today=new Date().toDateString();
if(localStorage.dailyDate===today){
tg.showAlert("âŒ Ğ’Ğ¶Ğµ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ¾");
return;
}
let day=parseInt(localStorage.dailyDay)||0;
let reward=DAILY_BONUSES[day]||0;
balance+=reward;
localStorage.dailyDay=day+1;
localStorage.dailyDate=today;
updateUI();
tg.showAlert(`ğŸ +${reward.toFixed(2)} $`);
};

/* ===== SUBSCRIBE ===== */
if(localStorage.subBonus) subscribe.style.display="none";
subscribe.onclick=()=>{
tg.openTelegramLink(CHANNEL_LINK);
balance+=10;
localStorage.subBonus=1;
subscribe.style.display="none";
updateUI();
};

/* ===== SHARE ===== */
share.onclick=()=>{
navigator.clipboard.writeText(CHANNEL_LINK);
coins+=20;
updateUI();
tg.showAlert("ğŸ”— +20 coins");
};

/* ===== WITHDRAW ===== */
withdraw.onclick=()=>{
if(balance<WITHDRAW_MIN){
tg.showAlert("âŒ ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ½ÑŒĞ¾ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ²Ğ¾Ğ´Ñƒ");
return;
}
tg.showPopup({
title:"ğŸ’³ Ğ’Ğ¸Ğ²Ñ–Ğ´",
message:"Ğ—Ğ°Ğ¿Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸Ğ¹Ğ½ÑÑ‚Ğ¾. ĞĞ´Ğ¼Ñ–Ğ½ Ğ·Ğ²Ê¼ÑĞ¶ĞµÑ‚ÑŒÑÑ Ğ· Ğ²Ğ°Ğ¼Ğ¸.",
buttons:[{type:"ok"}]
});
};

/* ===== ONLINE ===== */
setInterval(()=>{
onlineCount.textContent=3000+Math.floor(Math.random()*500)-250;
},3000);

let bonusTodayValue=parseInt(localStorage.bonusToday)||200;
setInterval(()=>{
if(Math.random()>0.7){
bonusTodayValue++;
localStorage.bonusToday=bonusTodayValue;
}
bonusToday.textContent=bonusTodayValue;
},6000);
</script>

</body>
</html>
