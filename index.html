<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>TapDay Premium</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root{
  --gold1:#ffe08a;
  --gold2:#ffb300;
  --bg1:#0b1230;
  --bg2:#04070f;
  --glow:rgba(255,200,0,.9);
}

*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(1200px 600px at 50% -10%, #1a2a6c 0%, transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  color:#fff;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  text-align:center;
  overflow:hidden;
  user-select:none;
}

/* HEADER */
.header{
  margin:16px auto 8px;
  width:92%;
  max-width:420px;
  padding:18px 16px;
  border-radius:22px;
  background:
    linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.65)),
    radial-gradient(200px 80px at 80% 10%, rgba(255,200,0,.25), transparent 60%);
  box-shadow:0 20px 50px rgba(0,0,0,.55);
}
.title{
  font-size:26px;
  font-weight:800;
  letter-spacing:.3px;
}
.balance{
  font-size:44px;
  font-weight:900;
  margin-top:6px;
  color:#fff;
  text-shadow:0 0 20px var(--glow);
}
.meta{
  display:flex;
  justify-content:space-between;
  gap:8px;
  margin-top:10px;
  font-size:14px;
  opacity:.95;
}

/* TAP AREA */
.stage{
  position:relative;
  height:52vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

.tap{
  position:relative;
  width:260px;
  height:260px;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 25%, #fff6c7 0%, var(--gold1) 35%, var(--gold2) 70%);
  color:#3b2400;
  font-size:46px;
  font-weight:900;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:
    0 0 0 0 rgba(255,200,0,.0),
    0 0 60px rgba(255,170,0,.8),
    inset 0 -10px 22px rgba(0,0,0,.25);
  animation:pulse 2.2s infinite;
  touch-action:manipulation;
}
.tap::after{
  content:"";
  position:absolute;
  inset:-14px;
  border-radius:50%;
  filter:blur(18px);
  background:radial-gradient(circle, rgba(255,220,120,.6), transparent 60%);
  z-index:-1;
}
.tap:active{ transform:scale(.94) }

@keyframes pulse{
  0%{ box-shadow:0 0 40px rgba(255,170,0,.6) }
  50%{ box-shadow:0 0 90px rgba(255,220,120,1) }
  100%{ box-shadow:0 0 40px rgba(255,170,0,.6) }
}

/* SIDE ACTIONS */
.side{
  position:fixed;
  right:12px;
  top:42%;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.btn{
  width:72px;height:72px;
  border-radius:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  box-shadow:0 10px 26px rgba(0,0,0,.45);
  background:linear-gradient(145deg,#4da3ff,#1c6bff);
}
.btn.gold{background:linear-gradient(145deg,#ffe08a,#ffb300); color:#3b2400}

/* FLOATING COINS */
.coin{
  position:absolute;
  pointer-events:none;
  font-size:22px;
  animation:fly 900ms ease-out forwards;
  text-shadow:0 0 10px rgba(255,220,120,.9);
}
@keyframes fly{
  from{ transform:translate(0,0) scale(1); opacity:1 }
  to{ transform:translate(var(--x), var(--y)) scale(.6); opacity:0 }
}

/* TIMER */
.timer{
  animation:tick 1s steps(1) infinite;
}
@keyframes tick{ 50%{ opacity:.85 } }
</style>
</head>

<body>
<div class="header">
  <div class="title">TapDay üëë</div>
  <div class="balance" id="coins">0 üí∞</div>
  <div class="meta">
    <div>üîì –†—ñ–≤–µ–Ω—å: <b id="lvl">1</b></div>
    <div>üéØ –ú–µ—Ç–∞: <b>25 000</b></div>
    <div class="timer">‚è≥ <b id="time">24:00:00</b></div>
  </div>
</div>

<div class="stage">
  <div class="tap" id="tap">TAP</div>
</div>

<div class="side">
  <div class="btn" id="x2">‚ö°x2</div>
  <div class="btn" id="auto">ü§ñ</div>
  <div class="btn gold" id="daily">üéÅ</div>
</div>

<script>
const tg = window.Telegram.WebApp; tg.expand();

let coins=0, mult=1, auto=false;
const coinsEl=document.getElementById('coins');
const lvlEl=document.getElementById('lvl');
const tap=document.getElementById('tap');

/* UPDATE */
function update(){
  coinsEl.textContent = coins + " üí∞";
  lvlEl.textContent = Math.max(1, Math.floor(coins/5000)+1);
}

/* MULTI-TAP */
tap.addEventListener('pointerdown', (e)=>{
  e.preventDefault();
  coins+=mult;
  update();
  spawnCoins(e.clientX, e.clientY);
});

/* EFFECTS */
function spawnCoins(x,y){
  for(let i=0;i<6;i++){
    const c=document.createElement('div');
    c.className='coin';
    c.textContent='üí∞';
    c.style.left=(x||window.innerWidth/2)+'px';
    c.style.top=(y||window.innerHeight/2)+'px';
    c.style.setProperty('--x',(Math.random()*160-80)+'px');
    c.style.setProperty('--y',(-Math.random()*140-40)+'px');
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),900);
  }
}

/* X2 */
x2.onclick=()=>{
  if(mult===2) return;
  if(coins<50) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ');
  coins-=50; mult=2; update();
};

/* AUTO */
setInterval(()=>{ if(auto){ coins+=mult; update(); } },800);
auto.onclick=()=>{
  if(auto) return;
  if(coins<100) return alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ');
  coins-=100; auto=true; update();
};

/* DAILY BONUS */
const today=new Date().toDateString();
let last=localStorage.getItem('last');
let streak=+localStorage.getItem('streak')||0;
if(last!==today){
  const y=new Date(Date.now()-86400000).toDateString();
  streak=(last===y)?streak+1:1;
  localStorage.setItem('streak',streak);
  localStorage.setItem('last',today);
}
daily.onclick=()=>{
  const reward=500*streak;
  coins+=reward; update();
  alert('üéÅ –ë–æ–Ω—É—Å: +'+reward);
};

/* TIMER */
let sec=86400;
setInterval(()=>{
  sec--;
  const h=String(Math.floor(sec/3600)).padStart(2,'0');
  const m=String(Math.floor(sec%3600/60)).padStart(2,'0');
  const s=String(sec%60).padStart(2,'0');
  time.textContent=`${h}:${m}:${s}`;
},1000);

update();
</script>
</body>
</html>
