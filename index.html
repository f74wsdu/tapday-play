<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>TapDay City 2026</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
html,body{margin:0;overflow:hidden;background:#0b1020;color:#fff;font-family:system-ui}
#ui{
position:fixed;top:10px;left:10px;right:10px;
display:flex;justify-content:space-between;
z-index:10;font-weight:700
}
#panel{
position:fixed;bottom:0;left:0;right:0;
background:rgba(0,0,0,.8);
padding:14px;text-align:center
}
button{
padding:12px 16px;border-radius:14px;border:0;
background:linear-gradient(135deg,#ffd54f,#ffb300);
font-weight:700
}
</style>
</head>

<body>

<div id="ui">
<div>üí∞ <span id="money">1200</span></div>
<div>üèô –†—ñ–≤–µ–Ω—å <span id="lvl">1</span></div>
</div>

<canvas id="game"></canvas>

<div id="panel">–¢–æ—Ä–∫–Ω–∏—Å—å –±—É–¥—ñ–≤–ª—ñ –Ω–∞ –∫–∞—Ä—Ç—ñ</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
resize();window.onresize=resize;

let cam={x:0,y:0,zoom:1};
let money=1200, lvl=1;

const buildings=[
{x:0,y:0,type:"–§–µ—Ä–º–∞",icon:"üåæ",income:5},
{x:2,y:1,type:"–ó–∞–≤–æ–¥",icon:"üè≠",income:20},
{x:-2,y:2,type:"–õ—ñ–∫–∞—Ä–Ω—è",icon:"üè•",income:12},
{x:3,y:-1,type:"–ë–∞–Ω–∫",icon:"üè¶",income:35}
];

function iso(x,y){
return {
x:(x-y)*64*cam.zoom+canvas.width/2+cam.x,
y:(x+y)*32*cam.zoom+canvas.height/2+cam.y
};
}

function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);

// map
for(let x=-10;x<10;x++){
for(let y=-10;y<10;y++){
let p=iso(x,y);
ctx.fillStyle="#1b2450";
ctx.beginPath();
ctx.moveTo(p.x,p.y);
ctx.lineTo(p.x+64*cam.zoom,p.y+32*cam.zoom);
ctx.lineTo(p.x,p.y+64*cam.zoom);
ctx.lineTo(p.x-64*cam.zoom,p.y+32*cam.zoom);
ctx.closePath();
ctx.fill();
}
}

// buildings
for(let b of buildings){
let p=iso(b.x,b.y);
ctx.font=`${32*cam.zoom}px serif`;
ctx.textAlign="center";
ctx.fillText(b.icon,p.x,p.y+10);
}
requestAnimationFrame(draw);
}
draw();

// click
canvas.onclick=e=>{
for(let b of buildings){
let p=iso(b.x,b.y);
if(Math.abs(e.clientX-p.x)<40 && Math.abs(e.clientY-p.y)<40){
money+=b.income;
document.getElementById("money").textContent=money;
document.getElementById("panel").innerHTML=
`<b>${b.type}</b><br>+${b.income} üí∞`;
}
}
};

// drag
let drag=false,lx,ly;
canvas.onpointerdown=e=>{drag=true;lx=e.clientX;ly=e.clientY;}
canvas.onpointerup=()=>drag=false;
canvas.onpointermove=e=>{
if(drag){
cam.x+=e.clientX-lx;
cam.y+=e.clientY-ly;
lx=e.clientX;ly=e.clientY;
}
};

// zoom
canvas.onwheel=e=>{
cam.zoom+=e.deltaY*-0.001;
cam.zoom=Math.max(.5,Math.min(1.6,cam.zoom));
};

function resize(){
canvas.width=innerWidth;
canvas.height=innerHeight;
}
</script>

</body>
</html>
